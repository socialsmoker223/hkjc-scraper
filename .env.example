# ============================================================================
# Database Configuration
# ============================================================================

# Database Type Selection
# Options: "local" or "supabase"
DATABASE_TYPE=local

# -----------------------------------------------------------------------------
# Local PostgreSQL Configuration (used when DATABASE_TYPE=local)
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=hkjc_racing
DB_USER=hkjc_user
DB_PASSWORD=hkjc_password

# -----------------------------------------------------------------------------
# Supabase Configuration (used when DATABASE_TYPE=supabase)
# -----------------------------------------------------------------------------
# Full connection URL from Supabase Dashboard > Settings > Database > Connection String
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
SUPABASE_URL=

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
LOG_FILE=hkjc_scraper.log

# ============================================================================
# Validation Configuration
# ============================================================================
VALIDATION_STRICT=false
VALIDATION_LOG_INVALID=true

# Scraping Configuration
HKJC_BASE_URL=https://racing.hkjc.com/racing/information/Chinese
REQUEST_TIMEOUT=30
RATE_LIMIT_DELAY=1.0

# Error Handling & Retry Configuration
REQUEST_CONNECT_TIMEOUT=10
RETRY_MAX_ATTEMPTS=5
RETRY_BACKOFF_BASE=2
RATE_LIMIT_RACE=1.0
RATE_LIMIT_DETAIL=0.5

# Logging
LOG_LEVEL=INFO
LOG_FILE=hkjc_scraper.log

# pgAdmin Configuration (optional - for web UI)
PGADMIN_EMAIL=admin@hkjc.local
PGADMIN_PASSWORD=admin

# ============================================================================
# HK33 Scraping Configuration (Optional)
# ============================================================================
# Authentication credentials for HK33.com odds scraping
# Leave empty to skip HK33 scraping or use cookie-based authentication only
HK33_EMAIL=
HK33_PASSWORD=

# Rate limiting and timeouts
HK33_REQUEST_TIMEOUT=30                  # Request timeout (seconds)

# Adaptive rate limiting
# Smart delays based on URL path changes for better performance
RATE_LIMIT_HK33_SAME_PATH=0.3           # Delay for same endpoint, different params (seconds)
RATE_LIMIT_HK33_PATH_CHANGE=15.0        # Delay when switching between bet types (seconds)

# Concurrency and session recovery
MAX_HK33_RACE_WORKERS=2                 # Number of races to scrape concurrently per bet type
HK33_MAX_RELOGINS=3                     # Max auto re-login attempts per session
